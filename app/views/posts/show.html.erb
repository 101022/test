<p id="notice"><%= notice %></p>
<p class="success"><%= flash[:success] %></p>
<p class="error"><%= flash[:error] %></p>

<p>
  <strong><%= t('post.name') %>:</strong>
  <%= post.name %>
</p>

<p>
  <strong><%= t('post.title') %>:</strong>
  <%= post.title %>
</p>

<p>
  <strong><%= t('post.content') %>:</strong>
  <%= post.content %>
</p>

<%= link_to 'Edit', edit_post_path(post) %> |
<%= link_to 'Back', posts_path %><br><br>


<% if post.comments.count > 0 %>
  <h2>コメント</h2>
  <% post.comments.each do |comment| %>
    <p>
      <%= comment.commenter %>: <%= comment.body %>
      <%= link_to '編集', edit_post_comment_path(comment.post, comment) %>
      <%= link_to '削除', post_comment_path(comment.post, comment),
                method: :delete,
                data: { confirm: "本当に削除しますか？" } %>
    </p>
  <% end %>
<% end %>

<h2>コメントを書く</h2>
<%= form_with(model: [post, post.comments.build]) do |f| %>

  <div class="field">
  <%= t('comment.name') %><br>
    <%= f.text_field :commenter %>
  </div>
  <div class="field">
  <%= t('comment.comment') %><br>
    <%= f.text_area :body %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>